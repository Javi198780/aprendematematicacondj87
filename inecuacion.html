<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Inecuaciones paso a paso</title>

<style>
body{
    font-family: Arial;
    background:#f2f7ff;
    text-align:center;
}

.caja{
    width:90%;
    margin:auto;
    background:white;
    padding:20px;
    border-radius:15px;
    box-shadow:0 0 10px #ccc;
}

input{
    width:80%;
    padding:10px;
    font-size:18px;
    text-align:center;
}

button{
    padding:10px 25px;
    font-size:18px;
    background:#1976d2;
    color:white;
    border:none;
    border-radius:10px;
    cursor:pointer;
}

.paso{
    background:#e3f2fd;
    margin:10px 0;
    padding:12px;
    border-radius:10px;
    font-size:17px;
}
</style>
</head>

<body>

<div class="caja">
<h1>ðŸ§® Inecuaciones paso a paso</h1>
<p>Ejemplos vÃ¡lidos:<br>
<strong>7(x+14)&gt;4x+8</strong> | <strong>4(x+2)&lt;2(x-1)</strong></p>

<input id="ecuacion" placeholder="Escribe la inecuaciÃ³n">
<br><br>
<button onclick="resolver()">Resolver</button>

<div id="resultado"></div>
</div>

<script>
function cambiar(signo){
    return {">":"<","<":">",">=":"<=","<=":">="}[signo];
}

function distribuir(exp){
    let m = exp.match(/^(-?\d+)\(([-]?\d*)x([+-]\d+)\)$/);
    if(!m) return null;

    let a = parseInt(m[1]);
    let b = m[2]===""||m[2]==="-" ? (m[2]==="-"?-1:1) : parseInt(m[2]);
    let c = parseInt(m[3]);

    return {
        texto: `${a*b}x ${a*c>=0?"+":""}${a*c}`,
        x: a*b,
        n: a*c
    };
}

function resolver(){
    let eq = document.getElementById("ecuacion").value.replace(/\s+/g,"");
    let r = document.getElementById("resultado");
    r.innerHTML = "";

    let signo = eq.match(/[<>]=?/)[0];
    let partes = eq.split(signo);

    let pasos = [];

    function procesar(lado){
        let d = distribuir(lado);
        if(d){
            pasos.push(`Aplicamos distributiva: ${lado} â†’ ${d.texto}`);
            return d;
        }
        let m = lado.match(/^(-?\d*)x([+-]\d+)?$/);
        return {
            texto: lado,
            x: m ? (m[1]===""?1:(m[1]==="-"?-1:parseInt(m[1]))) : 0,
            n: m && m[2]?parseInt(m[2]):parseInt(lado)||0
        };
    }

    let L = procesar(partes[0]);
    let R = procesar(partes[1]);

    pasos.push(`Quitamos parÃ©ntesis:<br>${L.texto} ${signo} ${R.texto}`);

    let coef = L.x - R.x;
    let num = R.n - L.n;

    pasos.push(`Pasamos las x a un lado y nÃºmeros al otro:<br>${coef}x ${signo} ${num}`);

    let signoFinal = coef<0 ? cambiar(signo) : signo;
    let resultado = num / coef;

    pasos.push(`Dividimos para ${coef} ${coef<0?"(cambia el signo)":""}`);

    pasos.forEach(p=>{
        r.innerHTML += `<div class="paso">${p}</div>`;
    });

    r.innerHTML += `<h2>âœ… Resultado final:<br>x ${signoFinal} ${resultado}</h2>`;
}
</script>

</body>
</html>
