<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Inecuaciones paso a paso</title>

<style>
body{
    font-family: Arial;
    background:#eef5ff;
    text-align:center;
}

.caja{
    width:92%;
    margin:auto;
    background:white;
    padding:20px;
    border-radius:15px;
    box-shadow:0 0 12px #bbb;
}

input{
    width:85%;
    padding:10px;
    font-size:18px;
    text-align:center;
}

button{
    padding:10px 25px;
    font-size:18px;
    background:#1976d2;
    color:white;
    border:none;
    border-radius:10px;
    cursor:pointer;
}

.paso{
    background:#e3f2fd;
    margin:10px 0;
    padding:12px;
    border-radius:10px;
    font-size:17px;
    text-align:left;
}
</style>
</head>

<body>

<div class="caja">
<h1>üßÆ Resoluci√≥n de Inecuaciones</h1>
<p>Ejemplo: <b>7(x+14) &gt; 4x + 8</b></p>

<input id="ecuacion" placeholder="Escribe la inecuaci√≥n">
<br><br>
<button onclick="resolver()">Resolver paso a paso</button>

<div id="resultado"></div>
</div>

<script>
function cambiarSigno(s){
    return {">":"<","<":">",">=":"<=","<=":">="}[s];
}

function resolver(){
    let e = document.getElementById("ecuacion").value.replace(/\s+/g,"");
    let r = document.getElementById("resultado");
    r.innerHTML = "";

    let signo = e.match(/[<>]=?/)[0];
    let lados = e.split(signo);

    r.innerHTML += `<div class="paso"><b>Paso 1:</b> Inecuaci√≥n original:<br>${e}</div>`;

    function distribuir(l){
        let m = l.match(/^(-?\d+)\((x[+-]\d+)\)$/);
        if(!m) return null;

        let a = parseInt(m[1]);
        let b = m[2].match(/([+-]?\d*)x/)[1];
        let c = m[2].match(/([+-]\d+)/)[1];

        b = b===""||b==="+"?1:(b==="-"?-1:parseInt(b));
        c = parseInt(c);

        return {
            texto:`${a*b}x ${a*c>=0?"+":""}${a*c}`,
            x:a*b,
            n:a*c
        };
    }

    function analizar(l){
        let d = distribuir(l);
        if(d){
            r.innerHTML += `<div class="paso"><b>Paso 2:</b> Aplicamos distributiva:<br>${l} ‚Üí ${d.texto}</div>`;
            return d;
        }
        let m = l.match(/^(-?\d*)x([+-]\d+)?$/);
        return {
            texto:l,
            x:m?(m[1]===""?1:(m[1]==="-"?-1:parseInt(m[1]))):0,
            n:m&&m[2]?parseInt(m[2]):parseInt(l)||0
        };
    }

    let L = analizar(lados[0]);
    let R = analizar(lados[1]);

    r.innerHTML += `<div class="paso"><b>Paso 3:</b> Quitamos par√©ntesis:<br>${L.texto} ${signo} ${R.texto}</div>`;

    r.innerHTML += `<div class="paso"><b>Paso 4:</b> Agrupamos t√©rminos con x y n√∫meros</div>`;

    let coef = L.x - R.x;
    let num = R.n - L.n;

    r.innerHTML += `<div class="paso"><b>Paso 5:</b> Pasamos las x a un lado y los n√∫meros al otro:<br>${coef}x ${signo} ${num}</div>`;

    let signoFinal = coef<0 ? cambiarSigno(signo) : signo;

    r.innerHTML += `<div class="paso"><b>Paso 6:</b> Dividimos todo para ${coef}</div>`;

    if(coef<0){
        r.innerHTML += `<div class="paso"><b>Paso 7:</b> ‚ö†Ô∏è El signo cambia porque dividimos para un n√∫mero negativo</div>`;
    }

    r.innerHTML += `<h2>‚úÖ Resultado final:<br>x ${signoFinal} ${num/coef}</h2>`;
}
</script>

</body>
</html>

